[gd_scene load_steps=30 format=3 uid="uid://cgwgn3d0bsk5b"]

[ext_resource type="Script" path="res://scenes/main-scene.gd" id="1_bir4h"]
[ext_resource type="PackedScene" uid="uid://b7kqgb07sf7gj" path="res://work-zone/work-zone.tscn" id="1_k2p32"]
[ext_resource type="PackedScene" uid="uid://b6cobyf05kb1" path="res://player/player.tscn" id="1_ms8d2"]
[ext_resource type="Material" uid="uid://2sb2ianglr5b" path="res://assets/materials/standard-material.tres" id="2_aap56"]
[ext_resource type="PackedScene" uid="uid://cd8vh3bcgo2h8" path="res://tube/tube.tscn" id="2_dp1qa"]
[ext_resource type="PackedScene" uid="uid://bmufxbymoqsd7" path="res://pause-controller/pause-controller.tscn" id="2_dvdun"]
[ext_resource type="Texture2D" uid="uid://c0hhelvn3thh8" path="res://assets/materials/noise-texture.tres" id="3_2s8rk"]
[ext_resource type="PackedScene" uid="uid://cauq8w1d5shxk" path="res://tube-button/tube-button.tscn" id="3_u0ha8"]
[ext_resource type="PackedScene" uid="uid://f5aiqtxurlnd" path="res://loot-box/loot-box.tscn" id="5_vodq4"]
[ext_resource type="PackedScene" uid="uid://bfjd0cwaleh0b" path="res://ui/ui.tscn" id="6_0dwyr"]
[ext_resource type="Resource" uid="uid://dwv6c20n2o4wx" path="res://loot-item/ball/ball.tres" id="6_o3sgs"]
[ext_resource type="PackedScene" uid="uid://dsve5jxi3op64" path="res://quota/quota.tscn" id="7_mm867"]
[ext_resource type="Resource" uid="uid://ca8rhfuv4qtq6" path="res://loot-item/gold-jewelry/gold-jewelry.tres" id="7_tsmho"]
[ext_resource type="Resource" uid="uid://cplc5y1os18kd" path="res://loot-item/old-toy/old-toy.tres" id="8_llufd"]
[ext_resource type="Resource" uid="uid://wwc545pc5q4j" path="res://loot-item/trash/trash.tres" id="11_e0fp0"]
[ext_resource type="PackedScene" uid="uid://ckhaeb7af0hr" path="res://game-over-screen/game-over-screen.tscn" id="11_pthsh"]
[ext_resource type="PackedScene" uid="uid://bleya7mqfp6v6" path="res://pause-screen/pause-screen.tscn" id="12_p2wha"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tcvn7"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_p0k0j"]
sky_material = SubResource("ProceduralSkyMaterial_tcvn7")

[sub_resource type="Environment" id="Environment_effs6"]
background_mode = 1
background_color = Color(0.0509804, 0.0509804, 0.0509804, 1)
sky = SubResource("Sky_p0k0j")
ambient_light_energy = 0.0
tonemap_mode = 2
glow_enabled = true

[sub_resource type="Gradient" id="Gradient_5hslq"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mq3um"]
gradient = SubResource("Gradient_5hslq")
fill = 1
fill_from = Vector2(0.504854, 0.502427)
fill_to = Vector2(0.949029, 0.883495)

[sub_resource type="PlaneMesh" id="PlaneMesh_vmclw"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gumpb"]
albedo_color = Color(0.0862745, 0.0862745, 0.0862745, 1)
albedo_texture = ExtResource("3_2s8rk")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_1uxj4"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="PlaneMesh" id="PlaneMesh_oyned"]
material = ExtResource("2_aap56")
size = Vector2(1, 2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_lcd4x"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_7kkcu"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_r27jf"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[node name="Main" type="Node3D"]
script = ExtResource("1_bir4h")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_effs6")

[node name="Light" type="SpotLight3D" parent="."]
transform = Transform3D(1, -6.97574e-16, -1.52459e-23, -1.5246e-23, -4.37114e-08, 1, -6.97574e-16, -1, -4.37114e-08, 2.08165e-12, 20, 12)
light_color = Color(1, 0.956863, 0.878431, 1)
light_energy = 30.0
light_indirect_energy = 0.0
light_projector = SubResource("GradientTexture2D_mq3um")
light_size = 10.0
light_specular = 1.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 60.0

[node name="Plane" type="MeshInstance3D" parent="."]
transform = Transform3D(50, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource("PlaneMesh_vmclw")
surface_material_override/0 = SubResource("StandardMaterial3D_gumpb")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_1uxj4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Plane"]
transform = Transform3D(-8.74228e-08, -1, 2.18557e-07, 0, -4.37114e-08, -5, 2, -4.37114e-08, 9.55343e-15, 0.98, 4.5, 2.08165e-12)
mesh = SubResource("PlaneMesh_oyned")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_lcd4x")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Plane"]
transform = Transform3D(-8.74228e-08, 1, -2.18557e-07, 0, -4.37114e-08, -5, -2, -4.37114e-08, 9.55343e-15, -0.98, 4.5, 2.08165e-12)
mesh = SubResource("PlaneMesh_oyned")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_7kkcu")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Plane"]
transform = Transform3D(2, 8.35189e-23, -1.82536e-29, 0, -4.37114e-08, -5, -1.67038e-22, 1, -2.18557e-07, 2.08165e-12, 4.5, -0.98)
mesh = SubResource("PlaneMesh_oyned")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane/MeshInstance3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/MeshInstance3D3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r27jf")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Plane"]
transform = Transform3D(2, -6.97574e-16, -1.5246e-22, 0, -4.37114e-08, 5, -1.39515e-15, -1, -2.18557e-07, 2.08165e-12, 4.5, 0.98)
mesh = SubResource("PlaneMesh_oyned")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane/MeshInstance3D4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/MeshInstance3D4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r27jf")

[node name="WorkingZone" parent="." instance=ExtResource("1_k2p32")]
deadzone_timer = 5

[node name="Player" parent="." instance=ExtResource("1_ms8d2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1, 20)

[node name="Tube" parent="." instance=ExtResource("2_dp1qa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 10, 2.08165e-12)
box_scene = ExtResource("5_vodq4")
items = Array[Resource("res://loot-item/loot-item-resourse.gd")]([ExtResource("6_o3sgs"), ExtResource("7_tsmho"), ExtResource("8_llufd"), ExtResource("11_e0fp0")])

[node name="TubeButton" parent="." instance=ExtResource("3_u0ha8")]
transform = Transform3D(-0.223795, 0, -0.974636, 0, 1, 0, 0.974636, 0, -0.223795, 2.08165e-12, 2.08165e-12, 10)

[node name="Quota" parent="." instance=ExtResource("7_mm867")]
quota_timer = 30.0
items = Array[Resource("res://loot-item/loot-item-resourse.gd")]([ExtResource("6_o3sgs"), ExtResource("7_tsmho"), ExtResource("8_llufd")])

[node name="UI" parent="." instance=ExtResource("6_0dwyr")]
mouse_filter = 1

[node name="PauseController" parent="." instance=ExtResource("2_dvdun")]
process_mode = 3

[node name="PauseScreen" parent="." instance=ExtResource("12_p2wha")]
process_mode = 2
visible = false

[node name="GameOverScreen" parent="." instance=ExtResource("11_pthsh")]
process_mode = 2
visible = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
